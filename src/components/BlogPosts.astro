---
import BlogPost from "./BlogPost.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");
const { count, paginate, page } = Astro.props;
---

<ul>
  {
    paginate
      ? page.data.map((post, index) => (
          <BlogPost
            index={index}
            url={post.url}
            title={post.frontmatter.title}
            date={post.frontmatter.pubDate}
          />
        ))
      : allPosts
          .slice(-count)
          .reverse()
          .map((post, index) => (
            <BlogPost
              index={index}
              url={post.url}
              title={post.frontmatter.title}
              date={post.frontmatter.pubDate}
            />
          ))
  }
</ul>
